diff --git a/dist/browser/nsfwjs.min.js b/dist/browser/nsfwjs.min.js
index ec0fc27e537c2343f94d794b5bc842336cb96b81..bfff4e3841b9d901785a1897b328a3b9c5f822f8 100644
--- a/dist/browser/nsfwjs.min.js
+++ b/dist/browser/nsfwjs.min.js
@@ -1,4 +1,4 @@
-!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).nsfwjs=e()}}((function(){return function e(t,n,r){function a(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};t[i][0].call(l.exports,(function(e){return a(t[i][1][e]||e)}),l,l.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){(function(t){(function(){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.NSFWJS=void 0,n.load=function(e){return i(this,arguments,void 0,(function(e,t){var n,r,a;return void 0===t&&(t={size:f}),s(this,(function(o){switch(o.label){case 0:if(null==c)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");return void 0===e?(e=d,console.info("%cBy not specifying 'modelOrUrl' parameter, you're using the default model: '".concat(e,"'. See NSFWJS docs for instructions on hosting your own model (https://github.com/infinitered/nsfwjs?tab=readme-ov-file#host-your-own-model)."),"color: lightblue")):g(e)&&(console.info("%cYou're using the model: '".concat(e,"'. See NSFWJS docs for instructions on hosting your own model (https://github.com/infinitered/nsfwjs?tab=readme-ov-file#host-your-own-model)."),"color: lightblue"),t=null!==(a=p[e].options)&&void 0!==a?a:t),t.size=(null==t?void 0:t.size)||f,[4,x(e)];case 1:return n=o.sent(),[4,(r=new k(n,t)).load()];case 2:return o.sent(),[2,r]}}))}))};var c=o(e("@tensorflow/tfjs")),l=e("buffer/"),h=e("./nsfw_classes"),p={MobileNetV2:{numOfWeightBundles:1},MobileNetV2Mid:{numOfWeightBundles:2,options:{type:"graph"}},InceptionV3:{numOfWeightBundles:6,options:{size:299}}},d="MobileNetV2",f=224,m=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("Unable to locate global object")};function g(e){return!!e&&e in p}var v=function(t){return i(void 0,void 0,void 0,(function(){var n,r;return s(this,(function(a){switch(a.label){case 0:return(n=m().model)?[2,n]:"MobileNetV2"!==t?[3,2]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2"))}))];case 1:return r=a.sent().modelJson,[3,6];case 2:return"MobileNetV2Mid"!==t?[3,4]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2_mid"))}))];case 3:return r=a.sent().modelJson,[3,6];case 4:return"InceptionV3"!==t?[3,6]:[4,Promise.resolve().then((function(){return o(e("./model_imports/inception_v3"))}))];case 5:r=a.sent().modelJson,a.label=6;case 6:return[4,r()];case 7:return[2,a.sent().default]}}))}))},y=function(t){return i(void 0,void 0,void 0,(function(){var n,r,a,i,c,l,h,d,f,g;return s(this,(function(s){switch(s.label){case 0:n=p[t].numOfWeightBundles,r=[],a=0,s.label=1;case 1:return a<n?(i="group1-shard".concat(a+1,"of").concat(n),c=i.replace(/-/g,"_"),(l=m()[c])?(r.push(((f={})[i]=l,f)),[3,10]):[3,2]):[3,11];case 2:return h=void 0,"MobileNetV2"!==t?[3,4]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2"))}))];case 3:return h=s.sent().weightBundles,[3,8];case 4:return"MobileNetV2Mid"!==t?[3,6]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2_mid"))}))];case 5:return h=s.sent().weightBundles,[3,8];case 6:return"InceptionV3"!==t?[3,8]:[4,Promise.resolve().then((function(){return o(e("./model_imports/inception_v3"))}))];case 7:h=s.sent().weightBundles,s.label=8;case 8:return[4,h[a]()];case 9:d=s.sent().default,r.push(((g={})[i]=d,g)),s.label=10;case 10:return a++,[3,1];case 11:return[2,Object.assign.apply(Object,u([{}],r,!1))]}}))}))};function b(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,y(e)];case 1:return[2,t.sent()];case 2:throw t.sent(),new Error("Could not load the weight data. Make sure you are importing the correct shard files from the models directory. Ref: https://github.com/infinitered/nsfwjs?tab=readme-ov-file#browserify");case 3:return[2]}}))}))}function x(e){return i(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:if(!g(e))return[2,e];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,v(e)];case 2:return t=r.sent(),[4,b(e)];case 3:return n=r.sent(),[2,new w(t,n)];case 4:throw r.sent(),new Error("Could not load the model. Make sure you are importing the model.min.js bundle. Ref: https://github.com/infinitered/nsfwjs?tab=readme-ov-file#browserify");case 5:return[2]}}))}))}var w=function(){function e(e,t){this.modelJson=e,this.weightDataBase64=t}return e.prototype.arrayBufferFromBase64=function(e){for(var t=l.Buffer.from(e,"base64").toString("binary"),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer},e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,u,c,l,h,p,d,f;return s(this,(function(s){if(e={modelTopology:this.modelJson.modelTopology,format:this.modelJson.format,generatedBy:this.modelJson.generatedBy,convertedBy:this.modelJson.convertedBy},null!=this.modelJson.weightsManifest){for(t=[],n=[],r=0,a=this.modelJson.weightsManifest;r<a.length;r++){for(o=a[r],i=0,u=o.paths;i<u.length;i++){if(c=u[i],!(l=this.weightDataBase64[c]))throw new Error("Could not find the weight data. Make sure you are importing the correct weight bundle for the model: ".concat(c,".min.js."));h=this.arrayBufferFromBase64(l),n.push(new Uint8Array(h))}t.push.apply(t,o.weights)}for(e.weightSpecs=t,p=new Uint8Array(n.reduce((function(e,t){return e+t.length}),0)),d=0,f=0;f<n.length;f++)p.set(n[f],d),d+=n[f].byteLength;e.weightData=p.buffer}return null!=this.modelJson.trainingConfig&&(e.trainingConfig=this.modelJson.trainingConfig),null!=this.modelJson.userDefinedMetadata&&(e.userDefinedMetadata=this.modelJson.userDefinedMetadata),[2,e]}))}))},e}(),k=function(){function e(e,t){this.intermediateModels={},this.options=t,this.normalizationOffset=c.scalar(255),this.urlOrIOHandler=e,"string"!=typeof e||e.startsWith("indexeddb://")||e.startsWith("localstorage://")||e.endsWith("model.json")?this.urlOrIOHandler=e:this.urlOrIOHandler="".concat(e,"model.json")}return e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o=this;return s(this,(function(i){switch(i.label){case 0:return e=this.options,t=e.size,"graph"!==e.type?[3,2]:(n=this,[4,c.loadGraphModel(this.urlOrIOHandler)]);case 1:return n.model=i.sent(),[3,4];case 2:return r=this,[4,c.loadLayersModel(this.urlOrIOHandler)];case 3:r.model=i.sent(),this.endpoints=this.model.layers.map((function(e){return e.name})),i.label=4;case 4:return[4,(a=c.tidy((function(){return o.model.predict(c.zeros([1,t,t,3]))}))).data()];case 5:return i.sent(),a.dispose(),[2]}}))}))},e.prototype.infer=function(e,t){var n=this;if(null!=t&&-1===this.endpoints.indexOf(t))throw new Error("Unknown endpoint ".concat(t,". Available endpoints: ").concat(this.endpoints,"."));return c.tidy((function(){e instanceof c.Tensor||(e=c.browser.fromPixels(e));var r=e.toFloat().div(n.normalizationOffset),a=r,o=n.options.size;if(e.shape[0]!==o||e.shape[1]!==o){a=c.image.resizeBilinear(r,[o,o],!0)}var i,s=a.reshape([1,o,o,3]);if(null==t)i=n.model;else{if(n.model.hasOwnProperty("layers")&&null==n.intermediateModels[t]){var u=n.model.layers.find((function(e){return e.name===t}));n.intermediateModels[t]=c.model({inputs:n.model.inputs,outputs:u.output})}i=n.intermediateModels[t]}return i.predict(s)}))},e.prototype.classify=function(e){return i(this,arguments,void 0,(function(e,t){var n,r;return void 0===t&&(t=5),s(this,(function(a){switch(a.label){case 0:return[4,S(n=this.infer(e),t)];case 1:return r=a.sent(),n.dispose(),[2,r]}}))}))},e}();function S(e,t){return i(this,void 0,void 0,(function(){var n,r,a,o,i,u;return s(this,(function(s){switch(s.label){case 0:return[4,e.data()];case 1:for(n=s.sent(),r=[],u=0;u<n.length;u++)r.push({value:n[u],index:u});for(r.sort((function(e,t){return t.value-e.value})),a=new Float32Array(t),o=new Int32Array(t),u=0;u<t;u++)a[u]=r[u].value,o[u]=r[u].index;for(i=[],u=0;u<o.length;u++)i.push({className:h.NSFW_CLASSES[o[u]],probability:a[u]});return[2,i]}}))}))}n.NSFWJS=k}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./model_imports/inception_v3":2,"./model_imports/mobilenet_v2":3,"./model_imports/mobilenet_v2_mid":4,"./nsfw_classes":5,"@tensorflow/tfjs":13,"buffer/":19}],2:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.weightBundles=n.modelJson=void 0;n.modelJson=function(){return Promise.resolve("".concat("../models/inception_v3/model.min.js")).then((function(t){return o(e(t))}))},n.weightBundles=[function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard1of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard2of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard3of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard4of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard5of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard6of6.min.js")).then((function(t){return o(e(t))}))}]},{}],3:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.weightBundles=n.modelJson=void 0;n.modelJson=function(){return Promise.resolve("".concat("../models/mobilenet_v2/model.min.js")).then((function(t){return o(e(t))}))},n.weightBundles=[function(){return Promise.resolve("".concat("../models/mobilenet_v2/group1-shard1of1.min.js")).then((function(t){return o(e(t))}))}]},{}],4:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.weightBundles=n.modelJson=void 0;n.modelJson=function(){return Promise.resolve("".concat("../models/mobilenet_v2_mid/model.min.js")).then((function(t){return o(e(t))}))},n.weightBundles=[function(){return Promise.resolve("".concat("../models/mobilenet_v2_mid/group1-shard1of2.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/mobilenet_v2_mid/group1-shard2of2.min.js")).then((function(t){return o(e(t))}))}]},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NSFW_CLASSES=void 0,n.NSFW_CLASSES={0:"Drawing",1:"Hentai",2:"Neutral",3:"Porn",4:"Sexy"}},{}],6:[function(e,t,n){"use strict";t.exports=e("./index")},{"./index":1}],7:[function(e,t,n){
+!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).nsfwjs=e()}}((function(){return function e(t,n,r){function a(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};t[i][0].call(l.exports,(function(e){return a(t[i][1][e]||e)}),l,l.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){(function(t){(function(){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.NSFWJS=void 0,n.load=function(e){return i(this,arguments,void 0,(function(e,t){var n,r,a;return void 0===t&&(t={size:f}),s(this,(function(o){switch(o.label){case 0:if(null==c)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");return void 0===e?(e=d,console.info("%cBy not specifying 'modelOrUrl' parameter, you're using the default model: '".concat(e,"'. See NSFWJS docs for instructions on hosting your own model (https://github.com/infinitered/nsfwjs?tab=readme-ov-file#host-your-own-model)."),"color: lightblue")):g(e)&&(console.info("%cYou're using the model: '".concat(e,"'. See NSFWJS docs for instructions on hosting your own model (https://github.com/infinitered/nsfwjs?tab=readme-ov-file#host-your-own-model)."),"color: lightblue"),t=null!==(a=p[e].options)&&void 0!==a?a:t),t.size=(null==t?void 0:t.size)||f,[4,x(e)];case 1:return n=o.sent(),[4,(r=new k(n,t)).load()];case 2:return o.sent(),[2,r]}}))}))};var c=o(e("@tensorflow/tfjs")),l=e("buffer"),h=e("./nsfw_classes"),p={MobileNetV2:{numOfWeightBundles:1},MobileNetV2Mid:{numOfWeightBundles:2,options:{type:"graph"}},InceptionV3:{numOfWeightBundles:6,options:{size:299}}},d="MobileNetV2",f=224,m=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("Unable to locate global object")};function g(e){return!!e&&e in p}var v=function(t){return i(void 0,void 0,void 0,(function(){var n,r;return s(this,(function(a){switch(a.label){case 0:return(n=m().model)?[2,n]:"MobileNetV2"!==t?[3,2]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2"))}))];case 1:return r=a.sent().modelJson,[3,6];case 2:return"MobileNetV2Mid"!==t?[3,4]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2_mid"))}))];case 3:return r=a.sent().modelJson,[3,6];case 4:return"InceptionV3"!==t?[3,6]:[4,Promise.resolve().then((function(){return o(e("./model_imports/inception_v3"))}))];case 5:r=a.sent().modelJson,a.label=6;case 6:return[4,r()];case 7:return[2,a.sent().default]}}))}))},y=function(t){return i(void 0,void 0,void 0,(function(){var n,r,a,i,c,l,h,d,f,g;return s(this,(function(s){switch(s.label){case 0:n=p[t].numOfWeightBundles,r=[],a=0,s.label=1;case 1:return a<n?(i="group1-shard".concat(a+1,"of").concat(n),c=i.replace(/-/g,"_"),(l=m()[c])?(r.push(((f={})[i]=l,f)),[3,10]):[3,2]):[3,11];case 2:return h=void 0,"MobileNetV2"!==t?[3,4]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2"))}))];case 3:return h=s.sent().weightBundles,[3,8];case 4:return"MobileNetV2Mid"!==t?[3,6]:[4,Promise.resolve().then((function(){return o(e("./model_imports/mobilenet_v2_mid"))}))];case 5:return h=s.sent().weightBundles,[3,8];case 6:return"InceptionV3"!==t?[3,8]:[4,Promise.resolve().then((function(){return o(e("./model_imports/inception_v3"))}))];case 7:h=s.sent().weightBundles,s.label=8;case 8:return[4,h[a]()];case 9:d=s.sent().default,r.push(((g={})[i]=d,g)),s.label=10;case 10:return a++,[3,1];case 11:return[2,Object.assign.apply(Object,u([{}],r,!1))]}}))}))};function b(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,y(e)];case 1:return[2,t.sent()];case 2:throw t.sent(),new Error("Could not load the weight data. Make sure you are importing the correct shard files from the models directory. Ref: https://github.com/infinitered/nsfwjs?tab=readme-ov-file#browserify");case 3:return[2]}}))}))}function x(e){return i(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:if(!g(e))return[2,e];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,v(e)];case 2:return t=r.sent(),[4,b(e)];case 3:return n=r.sent(),[2,new w(t,n)];case 4:throw r.sent(),new Error("Could not load the model. Make sure you are importing the model.min.js bundle. Ref: https://github.com/infinitered/nsfwjs?tab=readme-ov-file#browserify");case 5:return[2]}}))}))}var w=function(){function e(e,t){this.modelJson=e,this.weightDataBase64=t}return e.prototype.arrayBufferFromBase64=function(e){for(var t=l.Buffer.from(e,"base64").toString("binary"),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer},e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,u,c,l,h,p,d,f;return s(this,(function(s){if(e={modelTopology:this.modelJson.modelTopology,format:this.modelJson.format,generatedBy:this.modelJson.generatedBy,convertedBy:this.modelJson.convertedBy},null!=this.modelJson.weightsManifest){for(t=[],n=[],r=0,a=this.modelJson.weightsManifest;r<a.length;r++){for(o=a[r],i=0,u=o.paths;i<u.length;i++){if(c=u[i],!(l=this.weightDataBase64[c]))throw new Error("Could not find the weight data. Make sure you are importing the correct weight bundle for the model: ".concat(c,".min.js."));h=this.arrayBufferFromBase64(l),n.push(new Uint8Array(h))}t.push.apply(t,o.weights)}for(e.weightSpecs=t,p=new Uint8Array(n.reduce((function(e,t){return e+t.length}),0)),d=0,f=0;f<n.length;f++)p.set(n[f],d),d+=n[f].byteLength;e.weightData=p.buffer}return null!=this.modelJson.trainingConfig&&(e.trainingConfig=this.modelJson.trainingConfig),null!=this.modelJson.userDefinedMetadata&&(e.userDefinedMetadata=this.modelJson.userDefinedMetadata),[2,e]}))}))},e}(),k=function(){function e(e,t){this.intermediateModels={},this.options=t,this.normalizationOffset=c.scalar(255),this.urlOrIOHandler=e,"string"!=typeof e||e.startsWith("indexeddb://")||e.startsWith("localstorage://")||e.endsWith("model.json")?this.urlOrIOHandler=e:this.urlOrIOHandler="".concat(e,"model.json")}return e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o=this;return s(this,(function(i){switch(i.label){case 0:return e=this.options,t=e.size,"graph"!==e.type?[3,2]:(n=this,[4,c.loadGraphModel(this.urlOrIOHandler)]);case 1:return n.model=i.sent(),[3,4];case 2:return r=this,[4,c.loadLayersModel(this.urlOrIOHandler)];case 3:r.model=i.sent(),this.endpoints=this.model.layers.map((function(e){return e.name})),i.label=4;case 4:return[4,(a=c.tidy((function(){return o.model.predict(c.zeros([1,t,t,3]))}))).data()];case 5:return i.sent(),a.dispose(),[2]}}))}))},e.prototype.infer=function(e,t){var n=this;if(null!=t&&-1===this.endpoints.indexOf(t))throw new Error("Unknown endpoint ".concat(t,". Available endpoints: ").concat(this.endpoints,"."));return c.tidy((function(){e instanceof c.Tensor||(e=c.browser.fromPixels(e));var r=e.toFloat().div(n.normalizationOffset),a=r,o=n.options.size;if(e.shape[0]!==o||e.shape[1]!==o){a=c.image.resizeBilinear(r,[o,o],!0)}var i,s=a.reshape([1,o,o,3]);if(null==t)i=n.model;else{if(n.model.hasOwnProperty("layers")&&null==n.intermediateModels[t]){var u=n.model.layers.find((function(e){return e.name===t}));n.intermediateModels[t]=c.model({inputs:n.model.inputs,outputs:u.output})}i=n.intermediateModels[t]}return i.predict(s)}))},e.prototype.classify=function(e){return i(this,arguments,void 0,(function(e,t){var n,r;return void 0===t&&(t=5),s(this,(function(a){switch(a.label){case 0:return[4,S(n=this.infer(e),t)];case 1:return r=a.sent(),n.dispose(),[2,r]}}))}))},e}();function S(e,t){return i(this,void 0,void 0,(function(){var n,r,a,o,i,u;return s(this,(function(s){switch(s.label){case 0:return[4,e.data()];case 1:for(n=s.sent(),r=[],u=0;u<n.length;u++)r.push({value:n[u],index:u});for(r.sort((function(e,t){return t.value-e.value})),a=new Float32Array(t),o=new Int32Array(t),u=0;u<t;u++)a[u]=r[u].value,o[u]=r[u].index;for(i=[],u=0;u<o.length;u++)i.push({className:h.NSFW_CLASSES[o[u]],probability:a[u]});return[2,i]}}))}))}n.NSFWJS=k}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./model_imports/inception_v3":2,"./model_imports/mobilenet_v2":3,"./model_imports/mobilenet_v2_mid":4,"./nsfw_classes":5,"@tensorflow/tfjs":13,"buffer":19}],2:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.weightBundles=n.modelJson=void 0;n.modelJson=function(){return Promise.resolve("".concat("../models/inception_v3/model.min.js")).then((function(t){return o(e(t))}))},n.weightBundles=[function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard1of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard2of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard3of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard4of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard5of6.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/inception_v3/group1-shard6of6.min.js")).then((function(t){return o(e(t))}))}]},{}],3:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.weightBundles=n.modelJson=void 0;n.modelJson=function(){return Promise.resolve("".concat("../models/mobilenet_v2/model.min.js")).then((function(t){return o(e(t))}))},n.weightBundles=[function(){return Promise.resolve("".concat("../models/mobilenet_v2/group1-shard1of1.min.js")).then((function(t){return o(e(t))}))}]},{}],4:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.weightBundles=n.modelJson=void 0;n.modelJson=function(){return Promise.resolve("".concat("../models/mobilenet_v2_mid/model.min.js")).then((function(t){return o(e(t))}))},n.weightBundles=[function(){return Promise.resolve("".concat("../models/mobilenet_v2_mid/group1-shard1of2.min.js")).then((function(t){return o(e(t))}))},function(){return Promise.resolve("".concat("../models/mobilenet_v2_mid/group1-shard2of2.min.js")).then((function(t){return o(e(t))}))}]},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NSFW_CLASSES=void 0,n.NSFW_CLASSES={0:"Drawing",1:"Hentai",2:"Neutral",3:"Porn",4:"Sexy"}},{}],6:[function(e,t,n){"use strict";t.exports=e("./index")},{"./index":1}],7:[function(e,t,n){
 /**
  * @license
  * Copyright 2024 Google LLC. All Rights Reserved.
diff --git a/dist/cjs/index.js b/dist/cjs/index.js
index b0f80b3d1dc243918f4eec3d727640003f837fc2..2d3229b225bce992c1ee3ea27ab537ae0179b32c 100644
--- a/dist/cjs/index.js
+++ b/dist/cjs/index.js
@@ -71,7 +71,7 @@ Object.defineProperty(exports, "__esModule", { value: true });
 exports.NSFWJS = void 0;
 exports.load = load;
 var tf = __importStar(require("@tensorflow/tfjs"));
-var buffer_1 = require("buffer/");
+var buffer_1 = require("buffer");
 var nsfw_classes_1 = require("./nsfw_classes");
 var availableModels = {
     MobileNetV2: { numOfWeightBundles: 1 },
diff --git a/dist/esm/index.js b/dist/esm/index.js
index 5cd9e37889c58a1735fd0ca82d01232dd67e4f1a..29c70940490616de30f68f97170ce2a15ca327b2 100644
--- a/dist/esm/index.js
+++ b/dist/esm/index.js
@@ -44,7 +44,7 @@ var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
     return to.concat(ar || Array.prototype.slice.call(from));
 };
 import * as tf from "@tensorflow/tfjs";
-import { Buffer } from "buffer/";
+import { Buffer } from "buffer";
 import { NSFW_CLASSES } from "./nsfw_classes.js";
 var availableModels = {
     MobileNetV2: { numOfWeightBundles: 1 },
